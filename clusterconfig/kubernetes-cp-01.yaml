version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ih3rqi.ustrslb4u6c2dgx7
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQekNCOHFBREFnRUNBaEVBZ25hR21mdGNvdlhWVG81bjFUKy9uakFGQmdNclpYQXdFREVPTUF3R0ExVUUKQ2hNRmRHRnNiM013SGhjTk1qVXdPREkyTWpFeU9EUTVXaGNOTXpVd09ESTBNakV5T0RRNVdqQVFNUTR3REFZRApWUVFLRXdWMFlXeHZjekFxTUFVR0F5dGxjQU1oQUxjaCtPYTN3bXNpWGdwZHQ3cGVtRzM4cVlub3RvWjEza3hiCmJLOXpOb1g1bzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3RUcKQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkU0SnVWVmhhQ2pGd1E1RwpmdVEvU3ppUGpTd1RNQVVHQXl0bGNBTkJBTlVob2RwY1NQWmVSZ01OcTdqVEFOS2VwMGhZR1o2WEx1QVFlM3plCnkyVTluTHhkVnczNE9hcGk1bGNsbC9ELytBNzRBdk5wNmMwR2F2ckpFeGlWOEFNPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJRlI3NGVSL1N3T2N6U3IrbUFoTk1kdUJuKzFXcVZGM1FmMTZjdm9aZjhqZwotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K
  certSANs:
    - 127.0.0.1
    - 192.168.31.240
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.33.4
    extraConfig:
      serializeImagePulls: false
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.31.0/24
    disableManifestsDirectory: true
  network:
    hostname: cp-01
    interfaces:
      - deviceSelector:
          hardwareAddr: 10:c3:7b:a2:64:cf
        addresses:
          - 192.168.31.252/24
        routes:
          - network: 0.0.0.0/0
            gateway: 192.168.31.1
        mtu: 1500
        dhcp: false
        vip:
          ip: 192.168.31.240
    nameservers:
      - 1.1.1.1
      - 1.0.0.1
    disableSearchDomain: true
  install:
    disk: /dev/sdb
    image: factory.talos.dev/installer/376567988ad370138ad8b2698212367b8edcb69b5fd68c80be1f2ec7d603b4ba:v1.10.6
    wipe: false
  files:
    - content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
        [plugins."io.containerd.cri.v1.runtime"]
          device_ownership_from_security_context = true
      permissions: 0o0
      path: /etc/cri/conf.d/20-customization.part
      op: create
  time:
    disabled: false
    servers:
      - 162.159.200.1
      - 162.159.200.123
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.rmem_max: "7500000"
    net.core.wmem_max: "7500000"
    net.ipv4.neigh.default.gc_thresh1: "4096"
    net.ipv4.neigh.default.gc_thresh2: "8192"
    net.ipv4.neigh.default.gc_thresh3: "16384"
    user.max_user_namespaces: "11255"
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: true
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
cluster:
  id: QRIT8lXqnOnkShkxuCyxZ-XK6I1pM8YiMYSKmQdWIuI=
  secret: pbEAQy0WglieUvZv46KPqCzNBQCfCzHA2nwSgG1QPoU=
  controlPlane:
    endpoint: https://192.168.31.240:6443
  clusterName: kubernetes
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  token: 5gqtsn.alrj0dxjgsxhez0f
  secretboxEncryptionSecret: ezCubV2iu8Ucuw24qmKtkv1YirQa7rzgkF0GAwsYSg4=
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpVENDQVRDZ0F3SUJBZ0lSQU9YNnVKNFVLcGsxcXdoTVg1c2NpejB3Q2dZSUtvWkl6ajBFQXdJd0ZURVQKTUJFR0ExVUVDaE1LYTNWaVpYSnVaWFJsY3pBZUZ3MHlOVEE0TWpZeU1USTRORGRhRncwek5UQTRNalF5TVRJNApORGRhTUJVeEV6QVJCZ05WQkFvVENtdDFZbVZ5Ym1WMFpYTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CCkJ3TkNBQVI1KyszSGtpL3NBbmxoelQvU21USXN5WEpEU0NGdnRCWHh6VnhCNXZoN3hveEgwaDZUTUJmNExZL0EKYlJpSHJwZE1zTCtMWjdGREFyeSt2UFdCNEt2VW8yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXdIUVlEVlIwbApCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPCkJCWUVGRXkyeCsxVWRqd1V0V0FDdXN3SFArUXVwNzBCTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUZiQVlrdk0KdEZpWE1sVWgvTmpneHJkS2syN21XVklRbGd4RWkwMnlHdDBqQWlCZnVBRTluQjNidWVUN1ZjSktNTmJDLzlYWQo1NmliQmVDRFZQMlhiT25zVEE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUUxWnJYTHZlcGNYMVNaMFM0bEFUM1dOR05tRHVnM1ZwMUxvK0QrdGhSY1VvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFZWZ2dHg1SXY3QUo1WWMwLzBwa3lMTWx5UTBnaGI3UVY4YzFjUWViNGU4YU1SOUlla3pBWAorQzJQd0cwWWg2NlhUTEMvaTJleFF3Szh2cnoxZ2VDcjFBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  aggregatorCA:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJZRENDQVFXZ0F3SUJBZ0lRVGkzTS81REV5UTdBejVabXVOYVZvakFLQmdncWhrak9QUVFEQWpBQU1CNFgKRFRJMU1EZ3lOakl4TWpnME4xb1hEVE0xTURneU5ESXhNamcwTjFvd0FEQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxRwpTTTQ5QXdFSEEwSUFCRDhoSHNlSTVmT3g0TlF5OEgvZGxZaUpPRWJIdVdKWUsvWHpqS3MyTEx3RGsyMGt1Smp1CmJDekFZdWx2WStyK2hUZ3NDWlNYM3p1dXp4bGs1QXBiZEVlallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWQKQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZApCZ05WSFE0RUZnUVVwWGVURmJ0d2EyZytBeGtNRVV0UDljckVTdXd3Q2dZSUtvWkl6ajBFQXdJRFNRQXdSZ0loCkFKY0xUUTB6dm5HSSttVmI2V2IxeUF2b3N1ZzcrTXpJMjVVWXFDbFBIdWN6QWlFQXhwckR3TjFxVm5PVjM2RmYKZVI0VzVtWnZTSmRGOUpZWDBUNGJBb2E4akhzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUlRZ1NNNjBJbCtwSWpETFpwUllvbm5zNDhJTG1wNUNqWGZsOVYxbUQ4OWxvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFUHlFZXg0amw4N0hnMURMd2Y5MlZpSWs0UnNlNVlsZ3I5Zk9NcXpZc3ZBT1RiU1M0bU81cwpMTUJpNlc5ajZ2NkZPQ3dKbEpmZk82N1BHV1RrQ2x0MFJ3PT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  serviceAccount:
    key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS0FJQkFBS0NBZ0VBMjB0YnI2WWs3QUd6ZkhpRWNPV1FhTWZ2Nzd1SjJqTDZqNEt5M2h1YzNtbFYwbDl5CjZQR0FNU3BmTExzMzdNY0FmZEFsY3QwMEVjclJBTHgrMVBXdnBmRXFCM1JpTFhWUTJaM21GbzVDNXFPYXE5TTAKNXRwbGthbGg1MWNDNXhQUW9EM1Urd093YU5CU0NwK0REOExLbkJxNnVPRFZQTlA4QlR0YWNLTS9LS2ZwZ2w1VApZdXhkcGlzWTdGUFVJS0x3UDZFU1NwUVREL1FXSmRTZlJFM25NTVRiVjhaMng0WVJrWW43NUVuMEVDTnFwWEp2CjFDZ0NUcURoVU0rSE8wVkpBa1JITlR0Mng2Sk01VncrSjJqc2dtcHFoR0EyVkNWK0l5RFBZcC8xcllZMXhYSmUKYkVldndsbnhkbitET1VGWExUY0pSbU5IaEltOWRkL3RxemtVdGRsUElka3dYTjE5Q21OYTNQb1lmNVVyRUVObgpqaHVUd0xoTDBFbEc2OXp6WkJVbDE4QWZrbC9wVlJjSDRMN0dJQ2JpV2NhVTAzT2ZHV0xrQXNUb003S0lFWmNjCllYSDk0b3RIZlhtcTFQbWZHQzJnWVA4Rk9aN29OZzQ3ci8wRmp3ekg4OXRyMEdvOEd3Tzd3TnhjQi80RzRuSW8KSWlOWTRPR2Y2WGZBYklZUGF4Mk5tZ1h4ZUFEVElsNHZGVktQTmFmR2N0Y3lLemY5ODdzY0tTRnRaQ0g2WFBqRQp0OHlqNnlPY3kzYmZ0ZGVJZHdhS0JWUVRvYkd1bDUyVnU1Q1k5djZSNXRFT0FxVHozTkZZenpRQ3l2dHk1eWY0CjZHbitkNG5kSDAzcXBzY21WT1hYYmdLTE54WHkyVVNHWTNvS3hUdmVSTVI1NHFNZDh3N2VVZWRSdE0wQ0F3RUEKQVFLQ0FnQVlyYTRiZ2dQSk1IYlJ0T0ZZc0NqMGRiMmxlYkl0aFV1bnYxSmdSdlM4SGRnTDVQUnlUUTA3V3pTYgpQTlZ5RnNJU0pveTBWTHJ4bnFTdkk4ZFZNWEhySjR6dWlsVXJIdmJ5aW4rMGZaMS9SWjJZSlJ4Z3QyYXpRZi9UCjBEbXlKZ3QySVFjNUdXVHVvclQ4MzQ4WkJMZVc0all0ckpXcXN3TjdWajdiQ3JBR3BBRFdERVh2amNDTFBQSGcKMUowOGNBRy84MkV5MWQrZ1RieDVWT2g0Z0JqYXB1aTFRODhsckl1SkdLRnBnejROVytMNlMvclVRZzFpYWwzNAo0V1hyVUdTRE5ncGFiZjd6dityTjYvZk5xUlBtcUZHazVJdndvOGlDYlFTUnFZVTFHak91Yk95OTNFSm1DWWV3CktYRHJ6bFBnY1g5Z2RiYzhiZUROcFYzaWhUbTBlT2ltWHZoWnZPWG16Wk5BS0VJSmtqRzNnYktvZW4xaWhDaFIKZHZxRFFQT3JBUXhKcmlybnRlOWNpdURlSVZUeWVnUWppcTU5UFZkWmZwYVhmVXBIb3BCVkMwTUZUeHk3TThyMApSeE1YNEpmZ2tpMmJadEthUExJQmdEbFloZ0h2VE5oOE1qQ0VCMldrMmdYSUZOK3FvM29nMUZLTlA2MTJYVUJnCjNWQ1NVSEZqMGp2OUJ0NHMzSzIwSGVHb3JSRkpHaE9OdVNiQmpKSlB5KzRsNGFIMVlwbXBzcnNncnc5bUJZQTkKc3Q2OHZPdXQ2KzdQaU5TVXRhQzNlYzJUMVE0THFkQjZEZkRZcVhyTFViMUZtcFN1aUJ0VlFaYUIwRmhuN05mRwpvTzdCa3Y4YnlsNmY1T3ZYbHE5b2pIL1BMaUtyS2pVMXJ0WXNhSnBPc095eDJBbTFHUUtDQVFFQTQyRG1OT0lwCjJZTFQxQ2syMURMTDJZWlNUMFpYNFpOMTZxZ1NKZzlNMmZ2NXpmVkpzV29vSGVtaVp2WVNhMHdWYloxWmYwWHQKc0xZdTlGMUxjeW1XbzUxakJNcW5zSTdNRGMzNEhKb05xa0ZIVTU4ZnU5SXhtT1NXR01xaGhVanV5SStZRDFzWApIaGwrSksyYlVnTXlZVzdjY21OaUJhTTRIekVEd05Yd0RWMXNpanp0RTU0ZE1mc2wya0dSSjZFRnhvdWVuRGpYCm9EZ1FlZWtjbnVLZjBHOHArckFYcVlMZkVuOWdEZXVpRXk1REZzbjQxbGpKWnRtYnZLMnB3amhWNjNMNWwvMG0KQ0pWeUpIcXkrdlFjSWUyTmR0dVdKWlQycFNUU1hPOVdiclBCNDFYMFA0RTcvWFRpSUw1RDlCcHpXU2EvOXdHUQovcXBmaWI5T2ljWWFHUUtDQVFFQTl1WDBGT0hEdVhVWE5TMjMrTC9RQ0JFRDJMaE5JNkJNc1l3TVpsMnFKNnJFClRTckk5b25TbW9zVVhTNzlHYmxnMFBBdStyV1ZTQ2NDbkNJUjI0bGpJK2FGaGQxU0k3dXpaaUtQUHhSNkZ2R3YKczNHZWpNYjFJV3NpVEU5NVdOWks1ell0MVlpejBPNnJGRjNDdXlaNk94ZEhqNFN3ZlFBZThTVTJFQ1JhWndVOQpKVlVPc21ZYm5STXhUSFdRRlR6UmRuMHhzdnBwdDk0c0k0UFlNeW9OdUk0Q1VyaE9ocC9aNHlxTTluSHhic0k0CkM3eDkrUXRVTThUdmJ4OS9jYWJ2MGh5TGV3Q1VNV2pMSXBYendWMXdDaFBCZGxLbUtNODdLeHN4T2U0aDJiWmwKek1TVVgreFB3UXdZOS9KeVU5U1h6QmNBd3ZVbjlEV0p2YXMzdCttdTFRS0NBUUVBdVV3ZVRycUFvR0dkZnlpWApKaGEvU1dYTmJnMUZVTzk3Q09BdTZoVk42OWNNbkd0b3dzeGdKUUJnK01kUCsyRGxsWTdGZ0pMY1FVWTJ2YTNKCjd1L1ZjMEN2a1JnVjBDeU8zakVjSVRMcUwvVkN5MExCK2E0eC9RZEx5cWhYT09kV3NOdFVjQzhyaDd2K3NLVksKRG12TWd0cDFqRUt4Znlha2RjYmI2Q3B3bG5Pc0lIdkdPRmFDTkZrWFgrWlBCSnlVdUZqUHlVQUplT2czaFNJVAowT2VlbFo0QjkrbkpYcnJvVDRxK0hKb0tXdGM0bFRuREwrcnJOb1hnQk1NQnRPVjBINHh6R3dtU0ZTeTArRVdGCjFqMVpMODBIbS9VWFIwaytOeGJxMkJHenZrTi9ubVJOeC9McGtJUFFSQjdLQWdRTVBIcjN0YlB4RlppQ2d4OEUKUWdMUEFRS0NBUUE3aWVCK1dLTVdTZ0k2dExlMHFLekdCVFJrUXExM2RlU0l2RGtSUm0wTis4UXl4NnFHcVYyOApIdVhlUXNLT1BZSDNZTFF6aVM1aW8rV2hPU1lOUnVnOWRBMm01bVEwY2NNbFVoZ3hJZ0wvSFhFOVdKemZYZXNuCkQrckpkRERURjNvZ241UVY5azFHaVFlQWRjdkx6YytVQ0YwZFl1WWNmcmIzZC8yOWpzYXVLVGxCazIxajMvT3cKd1R3V01CTjZ5NXZIY3hGVkU4WUNyUFQvNjM5cmR5eXY0SzcydTdOVUM2QkRnN05TaXMrcDRmUWFBRzV3YkNiMgpCUHVvVkhRck9CS0ZISlVXS0dHVU9LMGp2ZjEyRjg0NDMrSzdZZHJuNUhGa1I3NXJOZDI3M3B4VjhPSEc3L21iCm1BczlYNTNxVVUzNXpXSkZvVkR0Tnl2c0xTbldrK2V4QW9JQkFFQWlBRWNLV1JqcTJoQnV5V200ZHljTGladVcKeUovWTlzQVdBT2xPUGp5YklOd0Vvb3ZwVWU1QWoyWldRVzE2RVVkUG5PdWdPMDdXczZMMVd6SnlRSXdDM1Y0VAoxdUo2VDkrd3NHUVppcGdKUm5aUXFGbWN5M3FsRUpXaER1VUYyaFpwb0ZiVDJTcDR2ZHF3MXU4MHRHUVorWjQ4CjNrNUl4Y0ZHVTI3ZXdNWUlpTnU4RHVZbjdQV3ZiMnZmcDVONUxVYkZQa3pXeXhCZi9rczFPL01CRTBiYTVBK2YKUENyOEdoL1VSbmhJMkV0TXQ5eHdJS05pcWtsZkJwUFJtU012MGl4NkJpRFUrV0FnVmNSbmladXV0RUVURW5XVwpzU3JVaDJPVDkyQXBoZVlrcVBKbi84eW1jVnJIMHRKZmo0cm15cUlZdGhQdVhKQ050cjlUOWlQL1Ardz0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.33.4
    extraArgs:
      enable-aggregator-routing: "true"
    certSANs:
      - 192.168.31.240
      - 127.0.0.1
      - 192.168.31.240
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.33.4
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:v1.33.4
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.33.4
    extraArgs:
      bind-address: 0.0.0.0
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: true
      service: {}
  etcd:
    ca:
      crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmVENDQVNTZ0F3SUJBZ0lSQUlqR2VZck9YY2hHZExrbXgwcUdGRXN3Q2dZSUtvWkl6ajBFQXdJd0R6RU4KTUFzR0ExVUVDaE1FWlhSalpEQWVGdzB5TlRBNE1qWXlNVEk0TkRkYUZ3MHpOVEE0TWpReU1USTRORGRhTUE4eApEVEFMQmdOVkJBb1RCR1YwWTJRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTRlFKOWdrZDB4CitKY1ZpNUdZUzR6bDBNTjVRbWNrZDA1aitiM0dUWWE4ZEwrSVdib2lLb3lvanhaUW5SVW5iUGxVVHpoMEJnUGQKYzhRNGQvQUFtVlgzbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSApBd0VHQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkNhV3dwMGIwcHIwCllJWk4zOS9Vdy9Nb3FqZnNNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUNJQnYyRDliajRpeXB2b2JTekNkYWR6bVEKOTNVcTZTZXpxTlFHeHFKOGgvdE1BaUFRL1pOTXBlQVN1RW9SelJaZWJLLzR1WlNqRGRKU24zUXVJWjBZY2IyVApGUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUl5TWlUQVFCbEV4MlJjNmZBVUcyMDNndlFwcWh5RDJxajYzdEJEdnhTUXVvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFaFVDZllKSGRNZmlYRll1Um1FdU01ZEREZVVKbkpIZE9ZL205eGsyR3ZIUy9pRm02SWlxTQpxSThXVUowVkoyejVWRTg0ZEFZRDNYUEVPSGZ3QUpsVjl3PT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.31.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
